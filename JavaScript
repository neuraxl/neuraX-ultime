function populateVoiceOptions() {
  const voiceSelect = document.getElementById("voiceSelect");
  const voices = speechSynthesis.getVoices();
  voiceSelect.innerHTML = '';
  voices.forEach((voice, i) => {
    const option = document.createElement("option");
    option.value = i;
    option.textContent = voice.name;
    voiceSelect.appendChild(option);
  });
}

window.speechSynthesis.onvoiceschanged = populateVoiceOptions;

function speakPhrase(phrase) {
  const utterance = new SpeechSynthesisUtterance(phrase);
  const voices = speechSynthesis.getVoices();
  const voiceIndex = document.getElementById("voiceSelect").value;
  utterance.voice = voices[voiceIndex] || voices[0];
  utterance.rate = parseFloat(document.getElementById("rateSlider").value);
  speechSynthesis.speak(utterance);
}
